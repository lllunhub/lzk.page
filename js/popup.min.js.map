{"version":3,"sources":["popup.js"],"names":["header","document","querySelector","main","footer","popup","popupClose","popupBefore","popupBeforeTitle","popupInputs","querySelectorAll","popupAfter","popupAfterCloseButton","popupMessage","onPopupEscPress","e","key","preventDefault","closePopup","onPopupClose","target","inert","style","opacity","classList","add","remove","setAttribute","removeAttribute","input","value","removeEventListener","addEventListener","contains","innerHTML"],"mappings":"AAAA,aAAA,MACE,MAAMA,EAASC,SAASC,cAAT,WACTC,EAAOF,SAASC,cAAT,SACPE,EAASH,SAASC,cAAT,WAETG,EAAQJ,SAASC,cAAT,UACRI,EAAaL,SAASC,cAAT,iBACbK,EAAcN,SAASC,cAAT,kBACdM,EAAmBP,SAASC,cAAT,qBACnBO,EAAcR,SAASS,iBAAT,iBACdC,EAAaV,SAASC,cAAT,iBACbU,EAAwBX,SAASC,cAAT,kBACxBW,EAAeZ,SAASC,cAAT,0BAKrB,SAASY,EAAgBC,GACnB,WAAAA,EAAEC,MACJD,EAAEE,iBACFC,KAKJ,SAASC,EAAaJ,GAChBA,EAAEK,SAAWf,GACfa,IAoBJ,SAASA,IACPlB,EAAOqB,OAAQ,EACflB,EAAKkB,OAAQ,EACbjB,EAAOiB,OAAQ,EAEfhB,EAAMgB,OAAQ,EACdhB,EAAMiB,MAAMC,QAAZ,IACAlB,EAAMmB,UAAUC,IAAhB,mBACAlB,EAAYc,OAAQ,EACpBd,EAAYiB,UAAUE,OAAtB,kBACAf,EAAWU,OAAQ,EACnBV,EAAWa,UAAUC,IAArB,mBACAZ,EAAac,aAAb,SAAA,IACAd,EAAae,gBAAb,YAEA,IAAK,IAAIC,KAASpB,EAChBoB,EAAMC,MAAN,GAGF7B,SAAS8B,oBAAT,UAAwCjB,GACxCb,SAAS8B,oBAAT,QAAsCZ,GArDxCd,EAAMgB,OAAQ,EAwDdpB,SAAS+B,iBAAT,QAAoCjB,IAC9BA,EAAEK,OAAOI,UAAUS,SAAnB,gBACFlB,EAAEE,iBAxCJjB,EAAOqB,OAAQ,EACflB,EAAKkB,OAAQ,EACbjB,EAAOiB,OAAQ,EAEfhB,EAAMgB,OAAQ,EACdhB,EAAMiB,MAAMC,QAAZ,IACAlB,EAAMmB,UAAUE,OAAhB,mBACAnB,EAAYc,OAAQ,EACpBd,EAAYiB,UAAUE,OAAtB,mBACAf,EAAWU,OAAQ,EACnBV,EAAWa,UAAUC,IAArB,mBACAxB,SAAS+B,iBAAT,UAAqClB,GACrCb,SAAS+B,iBAAT,QAAmCb,GA8B7BJ,EAAEK,OAAOI,UAAUS,SAAnB,qBACFzB,EAAiB0B,UAAjB,2BACSnB,EAAEK,OAAOI,UAAUS,SAAnB,uBACTzB,EAAiB0B,UAAjB,kCACSnB,EAAEK,OAAOI,UAAUS,SAAnB,yBACTzB,EAAiB0B,UAAjB,0BACArB,EAAae,gBAAb,UACAf,EAAac,aAAb,WAAA,QAKNrB,EAAW0B,iBAAX,QAAsCjB,IACpCA,EAAEE,iBACFC,MAGFN,EAAsBoB,iBAAtB,QAAiDjB,IAC/CA,EAAEE,iBACFC,OA7FJ","file":"popup.min.js","sourcesContent":["(() => {\n  const header = document.querySelector(`.header`);\n  const main = document.querySelector(`.main`);\n  const footer = document.querySelector(`.footer`);\n\n  const popup = document.querySelector(`.popup`);\n  const popupClose = document.querySelector(`.popup__close`);\n  const popupBefore = document.querySelector(`.popup__before`);\n  const popupBeforeTitle = document.querySelector(`.popup__before h2`);\n  const popupInputs = document.querySelectorAll(`.popup__input`);\n  const popupAfter = document.querySelector(`.popup__after`);\n  const popupAfterCloseButton = document.querySelector(`.popup__thanks`);\n  const popupMessage = document.querySelector(`.popup__input--message`);\n\n  popup.inert = true;\n\n  // Закрыть клавишей ESC\n  function onPopupEscPress(e) {\n    if (e.key === `Escape`) {\n      e.preventDefault();\n      closePopup();\n    }\n  }\n\n  // Закрыть кликом вне списка\n  function onPopupClose(e) {\n    if (e.target === popup) {\n      closePopup();\n    }\n  }\n\n  function openPopup() {\n    header.inert = true;\n    main.inert = true;\n    footer.inert = true;\n\n    popup.inert = false;\n    popup.style.opacity = `1`;\n    popup.classList.remove(`visually-hidden`);\n    popupBefore.inert = false;\n    popupBefore.classList.remove(`visually-hidden`);\n    popupAfter.inert = true;\n    popupAfter.classList.add(`visually-hidden`);\n    document.addEventListener(`keydown`, onPopupEscPress);\n    document.addEventListener(`click`, onPopupClose);\n  }\n\n  function closePopup() {\n    header.inert = false;\n    main.inert = false;\n    footer.inert = false;\n\n    popup.inert = true;\n    popup.style.opacity = `0`;\n    popup.classList.add(`visually-hidden`);\n    popupBefore.inert = true;\n    popupBefore.classList.remove(`visualy-hidden`);\n    popupAfter.inert = true;\n    popupAfter.classList.add(`visually-hidden`);\n    popupMessage.setAttribute(`hidden`, ``);\n    popupMessage.removeAttribute(`required`);\n\n    for (let input of popupInputs) {\n      input.value = ``;\n    }\n\n    document.removeEventListener(`keydown`, onPopupEscPress);\n    document.removeEventListener(`click`, onPopupClose);\n  }\n\n  document.addEventListener(`click`, (e) => {\n    if (e.target.classList.contains(`popup-open`)) {\n      e.preventDefault();\n      openPopup();\n      if (e.target.classList.contains(`popup-open--order`)) {\n        popupBeforeTitle.innerHTML = `Заказать обратный звонок`;\n      } else if (e.target.classList.contains(`popup-open--connect`)) {\n        popupBeforeTitle.innerHTML = `Связаться <br> с отделом продаж`;\n      } else if (e.target.classList.contains(`popup-open--message`)) {\n        popupBeforeTitle.innerHTML = `Оставьте своё сообщение`;\n        popupMessage.removeAttribute(`hidden`);\n        popupMessage.setAttribute(`required`, ``);\n      }\n    }\n  });\n\n  popupClose.addEventListener(`click`, (e) => {\n    e.preventDefault();\n    closePopup();\n  });\n\n  popupAfterCloseButton.addEventListener(`click`, (e) => {\n    e.preventDefault();\n    closePopup();\n  });\n\n})();\n"]}